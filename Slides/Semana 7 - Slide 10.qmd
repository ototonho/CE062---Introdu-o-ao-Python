---
title: "Semana 7 - slide 10"
format: html
editor: visual
---

# Semana 7 - Slide 10

feito no 'https://sqliteonline.com/' com dados de 'https://docs.ufpr.br/\~lmelo/sqlcursos.txt'

```{SQL}
CREATE TABLE `cursos` (
	`Ano` INT(4),
	`Curso` VARCHAR(50),
	`Turno` VARCHAR(3),
	`DuraÃ§Ã£o` INT(1),
	`Vagas` INT(4),
	`Inscritos` INT(3),
	`Ingressantes` INT(2),
	`Matriculados` INT(3),
	`Concluintes` INT(2)
)

INSERT INTO cursos (Ano,Curso,Turno,`DuraÃ§Ã£o`,Vagas,Inscritos,Ingressantes,Matriculados,Concluintes)
VALUES
(2017,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M/T',3,30,359,30,107,22),
(2017,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',2,30,62,29,83,10),
(2016,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M/T',3,30,474,30,131,16),
(2016,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',2,30,53,30,44,15),
(2015,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M/T',3,30,649,38,132,19),
(2015,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',2,30,49,27,61,18),
(2014,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M/T',3,30,511,26,108,11),
(2014,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',2,30,42,27,44,10),
(2013,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M/T',3,30,465,27,90,10),
(2013,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',2,30,28,10,29,9),
(2018,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M/T',3,30,359,30,104,0),
(2018,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M/T',2,30,62,28,111,18),
(2019,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',3,30,59,31,118,1),
(2019,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M',2,30,412,28,105,19),
(2020,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',3,30,220,29,129,13),
(2020,'TÃ©cnico em PetrÃ³leo e GÃ¡s','M',2,30,311,30,122,18),
(2021,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',3,30,55,19,134,2),
(2021,'TÃ©cnico em PetrÃ³leo e GÃ¡s','I',2,30,214,30,128,25),
(2022,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',3,30,0,0,131,11),
(2022,'TÃ©cnico em PetrÃ³leo e GÃ¡s','I',2,30,240,29,126,20),
(2023,'TÃ©cnico em Agente ComunitÃ¡rio de SaÃºde','M',3,30,0,0,10,1),
(2023,'TÃ©cnico em PetrÃ³leo e GÃ¡s','I',2,30,282,35,113,16),
(2024,'TÃ©cnico em PetrÃ³leo e GÃ¡s','I',2,30,322,37,125,18)


SELECT * FROM cursos # mostra a tabela 

SELECT AVG(matriculados) FROM cursos WHERE ano BETWEEN 2017 and 2020

SELECT
AVG(matriculados) AS 'Média Mat',
AVG(inscritos) AS 'Média Insc'
FROM cursos WHERE ano IN (2017, 2019, 2021)
GROUP BY curso
```

## Python e MySQL

### SQL

Linguagem declarativa, padronizada e baseada em tabelas

Principais usos: - criar e modificar estruturas de tabelas - consultar dados - inserir dados - atualizar dados - excluir dados

Outras funções: - fazer junções de tabelas - fazer uniões de tabelas - operações de agrupamento - operações de filtragem

Sugestão de material complementar: `https://www.w3schools.com/sql/`

### Tabelas

O conceito central do modelo relacional é a tabela, que organiza os dados de forma lógica e intuitiva em colunas e linhas:

- Colunas (Campos ou atributos): Representam as características de um dado (ex: número do processo, vara). Cada coluna possui um tipo de dado específico, conhecido como "Domínio de Dado" (ex: TEXTM INTEGER, REAL), que define o conjunto de valores possíveis.
- Linhas (Tuplas ou Registro): Representam uma instância individual de um dado, contendo os valores para cada coluna. Por exemplo, uma linha na tabela *processos* conteria '001234' para o número de um processo e 'Vara Cível de Curitiba' para o campo *vara*.

Exemplo Prático

- **foi realizado e está em outro arquivo**.

## Python e MySQL em Aplicação de BI

Contexto: Criaremos um código Python para realizar a operação de ETL dentro de um problema de Business Inteligence (Inteligência de Negócio).

Conceito utilizados em Python:

- conexão com banco através da biblioteca pymysql;
- criação de queries e views;
- exercução de queries no python;
- importação de pacotes;
- criação de funções;
- boas práticas na criação de scripts.

## Business Intelligence

Conjunto de processor e tecnologias que permitem a transformação de dados em informação, com o intuito de apoiar a tomada de decisões.
Em BI, os dados são coletados das bases de dados transicionais (sistemas) e armazenados em um DataWarehouse(DW).

- Bases Transacionais
- Data Warehouse
- Processo de BI
- Pacote PyMySQL
- Comandos Principais
- Estrutura de um script Python/MySQL